{"version":3,"file":"index.js","sources":["../node_modules/classnames/index.js","../src/utils.js","../node_modules/style-inject/dist/style-inject.es.js","../src/LiqPayPay.js","../src/LiqPaySubscribe.js"],"sourcesContent":["/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","/* eslint-disable camelcase */\nexport function utf8_to_b64(str) {\n  return window.btoa(unescape(encodeURIComponent(str)))\n}\n\nexport function b64_to_utf8(str) {\n  return decodeURIComponent(escape(window.atob(str)))\n}\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React from 'react'\nimport crypto from 'crypto'\nimport PropTypes from 'prop-types'\nimport classNames from 'classnames'\n// eslint-disable-next-line camelcase\nimport { utf8_to_b64 } from './utils'\n\nimport styleFile from './styles.css'\n\nconst LiqPayPay = ({\n  publicKey,\n  privateKey,\n  amount,\n  currency,\n  description = 'test',\n  orderId = Math.floor(1 + Math.random() * 900000000),\n  title = 'Payment',\n  style,\n  disabled,\n  extra,\n  ...props\n}) => {\n  const jsonString = {\n    public_key: publicKey,\n    version: '3',\n    action: 'pay',\n    amount: amount,\n    currency: currency,\n    description: description,\n    order_id: orderId,\n    ...props\n  }\n\n  const data = utf8_to_b64(JSON.stringify(jsonString))\n  const signString = privateKey + data + privateKey\n  const sha1 = crypto.createHash('sha1')\n  sha1.update(signString)\n  const signature = sha1.digest('base64')\n\n  return (\n    <form\n      method='POST' action='https://www.liqpay.ua/api/3/checkout'\n      acceptCharset='utf-8'\n      style={{ ...style }}\n    >\n      <input\n        type='hidden' name='data' value={data}\n      />\n      <input type='hidden' name='signature' value={signature} />\n      {extra || (\n        <button className={classNames(styleFile.buttonSubmit)} disabled={disabled}>\n          <img\n            src='https://static.liqpay.ua/buttons/logo-small.png' name='btn_text'\n          />\n          <span>{title} {amount} {currency}</span>\n        </button>\n      )}\n    </form>\n  )\n}\n\nLiqPayPay.propTypes = {\n  publicKey: PropTypes.string.isRequired,\n  privateKey: PropTypes.string.isRequired,\n  currency: PropTypes.string.isRequired,\n  amount: PropTypes.string.isRequired,\n  description: PropTypes.string.isRequired,\n  orderId: PropTypes.any.isRequired,\n  title: PropTypes.string,\n  style: PropTypes.object,\n  disabled: PropTypes.bool,\n  extra: PropTypes.object\n}\n\nexport default LiqPayPay\n","import React from 'react'\nimport crypto from 'crypto'\nimport PropTypes from 'prop-types'\nimport classNames from 'classnames'\n// eslint-disable-next-line camelcase\nimport { utf8_to_b64 } from './utils'\n\nimport styleFile from './styles.css'\n\nconst LiqPaySubscribe = ({\n  publicKey,\n  privateKey,\n  amount,\n  subscribePeriodicity = 'month',\n  currency,\n  description = 'test',\n  orderId = Math.floor(1 + Math.random() * 900000000),\n  title = 'Subscribe',\n  style,\n  disabled,\n  extra,\n  ...props\n}) => {\n  const jsonString = {\n    public_key: publicKey,\n    version: '3',\n    action: 'subscribe',\n    subscribe_date_start: Date.now(),\n    subscribe_periodicity: subscribePeriodicity,\n    amount: amount,\n    currency: currency,\n    description: description,\n    order_id: orderId,\n    ...props\n  }\n\n  const data = utf8_to_b64(JSON.stringify(jsonString))\n  const signString = privateKey + data + privateKey\n\n  const sha1 = crypto.createHash('sha1')\n  sha1.update(signString)\n  const signature = sha1.digest('base64')\n\n  return (\n    <form\n      method='POST' action='https://www.liqpay.ua/api/3/checkout'\n      acceptCharset='utf-8'\n      style={{ ...style }}\n    >\n      <input\n        type='hidden' name='data' value={data}\n      />\n      <input type='hidden' name='signature' value={signature} />\n      {extra || (\n        <button className={classNames(styleFile.buttonSubmit)} disabled={disabled}>\n          <img\n            src='https://static.liqpay.ua/buttons/logo-small.png' name='btn_text'\n          />\n          <span>{title} {amount} {currency}</span>\n        </button>\n      )}\n    </form>\n  )\n}\n\nLiqPaySubscribe.propTypes = {\n  publicKey: PropTypes.string.isRequired,\n  privateKey: PropTypes.string.isRequired,\n  currency: PropTypes.string.isRequired,\n  amount: PropTypes.string.isRequired,\n  subscribePeriodicity: PropTypes.string.isRequired,\n  description: PropTypes.string.isRequired,\n  orderId: PropTypes.any.isRequired,\n  title: PropTypes.string,\n  style: PropTypes.object,\n  disabled: PropTypes.bool,\n  extra: PropTypes.object\n}\n\nexport default LiqPaySubscribe\n"],"names":["utf8_to_b64","str","window","btoa","unescape","encodeURIComponent","LiqPayPay","publicKey","privateKey","amount","currency","description","orderId","Math","floor","random","title","style","disabled","extra","props","jsonString","public_key","version","action","order_id","data","JSON","stringify","signString","sha1","crypto","createHash","update","signature","digest","classNames","styleFile","buttonSubmit","propTypes","PropTypes","string","isRequired","any","object","bool","LiqPaySubscribe","subscribePeriodicity","subscribe_date_start","Date","now","subscribe_periodicity"],"mappings":"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"}